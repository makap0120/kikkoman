$(function(){$(document).ready(function(){$(".banner-slider").slick({infinite:!1,arrows:!1,dots:!0,slidesToShow:1,slidesToScroll:1,draggable:!1,lazyload:"ondemand"}),$(".banner-slider").on("afterChange",function(e,i,s){o(s)}),$(".products-slider").slick({slidesToShow:6,slidesToScroll:1,dots:!1,infinite:!1,arrows:!0,lazyload:"ondemand",responsive:[{breakpoint:1690,settings:{slidesToShow:5}},{breakpoint:1220,settings:{slidesToShow:4}},{breakpoint:960,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:560,settings:{slidesToShow:1}}]}),$(".testi-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3});var s=0,t=function(){$(".tab.is-active .recipes-grid").slick({centerMode:!0,slidesToShow:3,infinite:!1,dots:!0,arrows:!1,variableWidth:!0,initialSlide:0}),s=1};window.innerWidth<=768&&t();var a={activeTab:""};$(".js-toggle-tab").on("click",function(){var e=$(this);e.hasClass("is-active")||o(e.index())}),$(".js-toggle-tab-from-banner").on("click",function(){var e=$(".banner-slider").slick("slickCurrentSlide");o(e)});var o=function(e){if(a.activeTab!=e){if(window.innerWidth<=768&&($(".tab.is-active .recipes-grid").slick("unslick"),s=0),p(),a.activeTab=e,$(".js-toggle-tab, .tab").removeClass("is-active"),$(".tab:nth-child("+(e+1)+"), .js-toggle-tab:nth-child("+(e+1)+")").addClass("is-active"),$(".s-recipes .tab.is-active .lazy").length){var i=[].slice.call(document.querySelectorAll(".s-recipes .tab.is-active .js-collapse-recipe.lazy"));console.log(i),l(i)}window.innerWidth<=768&&t()}},l=function(e){setTimeout(function(){e.forEach(function(e){e.src=e.dataset.src,e.classList.remove("lazy")})},200)},r=$(".clone-chamber"),d={visibleHeight:"",cloneHeight:"",resizeEvent:""},n=function(e){p();var i,s=e.parent().parent(),t=s.find($(".recipe-details")),a=t.clone();if(r.append(a),console.log(e),window.innerWidth<=768){var o={};o.title=a.find(".recipe-top").text(),o.calcHTML=a.find(".calculation").clone(),o.imagesHTML=a.find(".image-col").clone(),o.recipeHTML=a.find(".process").clone();var n=$(".recipe-overlay--for-mobile");if(n.find(".m-recipe-img").append(o.imagesHTML),n.find(".m-recipe-title").text(o.title),n.find(".m-recipe-calc").append(o.calcHTML),n.find(".m-recipe-process").append(o.recipeHTML),$("body").addClass("recipe-overlay-is-active"),$(".m-recipe-img .lazy").length){var c=[].slice.call(document.querySelectorAll(".m-recipe-img .image-col .lazy"));l(c)}}else i=a.height(),d.visibleHeight=d.cloneHeight=i,s.addClass("is-collapsed add-transition"),t.css("max-height",i+"px"),s.css("margin-bottom",i-20+"px"),setTimeout(function(){$(".recipe.is-collapsed").removeClass("add-transition")},500),d.resizeEvent||$(window).on("resize",function(){h()})};$(window).on("click",function(e){var i=$(e.target);i.hasClass("js-collapse-recipe")?n(i):i.parent().hasClass("js-collapse-recipe")?n(i.parent()):i.hasClass("js-close-recipe")&&(console.log(0),p())}),$(".js-close-recipe").on("click",function(){p()});var p=function(){d.visibleHeight=d.cloneHeight="",$(".recipe.is-collapsed").addClass("add-transition"),$(".recipe").removeClass("is-collapsed"),$(".recipe, .recipe-details").removeAttr("style"),r.empty(),setTimeout(function(){$(".recipe").removeClass("add-transition")},500)};$(".js-close-overlay, .js-close-overlay-bottom").on("click",function(){e()});var e=function(){$(".m-recipe-calc, .m-recipe-title, .m-recipe-process, .m-recipe-img").empty(),$("body").removeClass("recipe-overlay-is-active")},h=function(){if($(".recipe").hasClass("is-collapsed")){var e=r.find($(".recipe-details"));if(e.height()!=d.cloneHeight){var i=$(".recipe.is-collapsed"),s=i.find($(".recipe-details"));d.visibleHeight=d.cloneHeight=e.height(),s.css("max-height",d.visibleHeight+"px"),i.css("margin-bottom",d.visibleHeight-20+"px")}}};$(".js-toggle-mnav").on("click",function(){var e=$("body");e.hasClass("mnav-active")?c():e.hasClass("mnav-active")||i()}),$(".js-scroll-to").on("click",function(){c()});var i=function(){$("body").addClass("mnav-active")},c=function(){$("body").removeClass("mnav-active")};$(window).on("resize",function(){768<window.innerWidth?(s&&($(".tab.is-active .recipes-grid").slick("unslick"),s=0),$("body").hasClass("mnav-active")&&(console.log("close fired from resize listener"),c()),$("body").hasClass("recipe-overlay-is-active")&&e()):window.innerWidth<=768&&(s||(p(),t(),s=1))}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var i=$(this.hash);(i=i.length?i:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:i.offset().top},1e3,function(){var e=$(i);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}})})});