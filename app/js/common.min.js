$(function(){$(".banner-slider").slick({infinite:!1,arrows:!1,dots:!0,slidesToShow:1,slidesToScroll:1,draggable:!1}),$(".banner-slider").on("afterChange",function(e,i,s){o(s)}),$(".products-slider").slick({slidesToShow:6,slidesToScroll:1,dots:!1,arrows:!0,responsive:[{breakpoint:1690,settings:{slidesToShow:5}},{breakpoint:1220,settings:{slidesToShow:4}},{breakpoint:960,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:560,settings:{slidesToShow:1}}]}),$(".testi-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3});var i=0,s=function(){$(".tab.is-active .recipes-grid").slick({centerMode:!0,slidesToShow:3,infinite:!1,dots:!0,arrows:!1,variableWidth:!0,initialSlide:0}),i=1};window.innerWidth<=768&&s();var t={activeTab:""};$(".js-toggle-tab").on("click",function(){var e=$(this);e.hasClass("is-active")||o(e.index())}),$(".js-toggle-tab-from-banner").on("click",function(){var e=$(".banner-slider").slick("slickCurrentSlide");o(e)});var o=function(e){t.activeTab!=e&&(window.innerWidth<=768&&($(".tab.is-active .recipes-grid").slick("unslick"),i=0),r(),t.activeTab=e,console.log(e),$(".js-toggle-tab, .tab").removeClass("is-active"),$(".tab:nth-child("+(e+1)+"), .js-toggle-tab:nth-child("+(e+1)+")").addClass("is-active"),window.innerWidth<=768&&s())},c=$(".clone-chamber"),l={visibleHeight:"",cloneHeight:"",resizeEvent:""},a=function(e){r();var i,s=e.parent().parent(),t=s.find($(".recipe-details")),o=t.clone();if(c.append(o),console.log(e),window.innerWidth<=768){var a={};a.title=o.find(".recipe-top").text(),a.calcHTML=o.find(".calculation").clone(),a.imagesHTML=o.find(".image-col").clone(),a.recipeHTML=o.find(".process").clone();var n=$(".recipe-overlay--for-mobile");n.find(".m-recipe-img").append(a.imagesHTML),n.find(".m-recipe-title").text(a.title),n.find(".m-recipe-calc").append(a.calcHTML),n.find(".m-recipe-process").append(a.recipeHTML),$("body").addClass("recipe-overlay-is-active")}else i=o.height(),l.visibleHeight=l.cloneHeight=i,s.addClass("is-collapsed add-transition"),t.css("max-height",i+"px"),s.css("margin-bottom",i-20+"px"),setTimeout(function(){$(".recipe.is-collapsed").removeClass("add-transition")},500),l.resizeEvent||$(window).on("resize",function(){d()})};$(window).on("click",function(e){var i=$(e.target);i.hasClass("js-collapse-recipe")?a(i):i.parent().hasClass("js-collapse-recipe")?a(i.parent()):i.hasClass("js-close-recipe")&&(console.log(0),r())}),$(".js-close-recipe").on("click",function(){r()});var r=function(){l.visibleHeight=l.cloneHeight="",$(".recipe.is-collapsed").addClass("add-transition"),$(".recipe").removeClass("is-collapsed"),$(".recipe, .recipe-details").removeAttr("style"),c.empty(),setTimeout(function(){$(".recipe").removeClass("add-transition")},500)};$(".js-close-overlay, .js-close-overlay-bottom").on("click",function(){e()});var e=function(){$(".m-recipe-calc, .m-recipe-title, .m-recipe-process, .m-recipe-img").empty(),$("body").removeClass("recipe-overlay-is-active")},d=function(){if($(".recipe").hasClass("is-collapsed")){var e=c.find($(".recipe-details"));if(e.height()!=l.cloneHeight){var i=$(".recipe.is-collapsed"),s=i.find($(".recipe-details"));l.visibleHeight=l.cloneHeight=e.height(),s.css("max-height",l.visibleHeight+"px"),i.css("margin-bottom",l.visibleHeight-20+"px")}}};$(".js-toggle-mnav").on("click",function(){var e=$("body");e.hasClass("mnav-active")?p():e.hasClass("mnav-active")||n()}),$(".js-scroll-to").on("click",function(){p()});var n=function(){$("body").addClass("mnav-active")},p=function(){$("body").removeClass("mnav-active")};$(window).on("resize",function(){768<window.innerWidth?(i&&($(".tab.is-active .recipes-grid").slick("unslick"),i=0),$("body").hasClass("mnav-active")&&(console.log("close fired from resize listener"),p()),$("body").hasClass("recipe-overlay-is-active")&&e()):window.innerWidth<=768&&(i||(r(),s(),i=1))}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var i=$(this.hash);(i=i.length?i:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:i.offset().top},1e3,function(){var e=$(i);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}})});